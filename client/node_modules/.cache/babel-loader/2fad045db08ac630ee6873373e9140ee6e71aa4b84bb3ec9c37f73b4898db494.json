{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import Logout from\"../Logout\";import{getUserSchedule}from\"../../utils/APIRoutes\";import axios from\"axios\";import\"./Instructor.css\";import loaderImage from\"../../assets/loader.gif\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Instructor=_ref=>{let{}=_ref;const navigate=useNavigate();const[currUser,setCurrUser]=useState(undefined);const[schedules,setSchedules]=useState([]);const[loading,setLoading]=useState(true);const adminKey=localStorage.getItem(\"secret-key-admin\");const userKey=localStorage.getItem(\"secret-key\");useEffect(()=>{if(adminKey){navigate(\"/admin\");}else if(userKey){setCurrUser(JSON.parse(userKey).username);}else{navigate(\"/\");}},[navigate]);useEffect(()=>{const fetchSchedules=async()=>{try{const response=await axios.get(getUserSchedule,{params:{currUser}});setSchedules(response.data.schedules);}catch(error){console.error(\"Error fetching Schedule:\",error);console.log(\"Error\");}finally{setLoading(false);}};fetchSchedules();},[currUser,navigate,schedules]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loader-container\",children:/*#__PURE__*/_jsx(\"img\",{src:loaderImage,alt:\"Loading...\",className:\"loader-image\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-container-Inst\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar-Inst\",children:[/*#__PURE__*/_jsx(Logout,{}),/*#__PURE__*/_jsxs(\"h1\",{className:\"heading-Inst\",children:[\"Welcome \",currUser]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content-Inst\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lectures-container-Inst\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-heading-Inst\",children:\"Your Upcoming Lectures\"}),/*#__PURE__*/_jsx(\"div\",{className:\"scrollable-content-Inst\",children:schedules.map((schedule,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"lecture-card-Inst\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-heading-Inst\",children:\"Course:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"course-content-Inst\",children:schedule.course}),/*#__PURE__*/_jsx(\"h3\",{className:\"card-heading-Inst\",children:\"Lecture:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lecture-content-Inst\",children:schedule.lecture}),/*#__PURE__*/_jsx(\"h3\",{className:\"card-heading-Inst\",children:\"Date:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"date-content-Inst\",children:new Date(schedule.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"h3\",{className:\"card-heading-Inst\",children:\"Location:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"location-content-Inst\",children:schedule.location})]},index))})]})})]});};export default Instructor;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Logout","getUserSchedule","axios","loaderImage","jsx","_jsx","jsxs","_jsxs","Instructor","_ref","navigate","currUser","setCurrUser","undefined","schedules","setSchedules","loading","setLoading","adminKey","localStorage","getItem","userKey","JSON","parse","username","fetchSchedules","response","get","params","data","error","console","log","className","children","src","alt","map","schedule","index","course","lecture","Date","date","toLocaleDateString","location"],"sources":["C:/Users/Aditya/Desktop/Lecture-Scheduling-Application/client/src/components/user/Instructor.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Logout from \"../Logout\";\nimport { getUserSchedule } from \"../../utils/APIRoutes\";\nimport axios from \"axios\";\nimport \"./Instructor.css\"\n\nimport loaderImage from \"../../assets/loader.gif\";\n\nconst Instructor = ({}) => {\n  const navigate = useNavigate();\n  const [currUser, setCurrUser] = useState(undefined);\n  const [schedules, setSchedules] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const adminKey = localStorage.getItem(\"secret-key-admin\");\n  const userKey = localStorage.getItem(\"secret-key\");\n\n  useEffect(() => {\n    if (adminKey) {\n      navigate(\"/admin\");\n    } else if (userKey) {\n      setCurrUser(JSON.parse(userKey).username);\n    } else {\n      navigate(\"/\");\n    }\n  }, [navigate]);\n\n  useEffect(() => {\n    const fetchSchedules = async () => {\n      try {\n        const response = await axios.get(getUserSchedule, {\n          params: { currUser },\n        });\n        setSchedules(response.data.schedules);\n      } catch (error) {\n        console.error(\"Error fetching Schedule:\", error);\n        console.log(\"Error\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchSchedules();\n  }, [currUser, navigate, schedules]);\n\n  if (loading) {\n    return (\n      <div className=\"loader-container\">\n      <img src={loaderImage} alt=\"Loading...\" className=\"loader-image\" />\n    </div>\n    );\n  }\n\n  return (\n    <div className=\"welcome-container-Inst\">\n      <div className=\"top-bar-Inst\">\n        <Logout />\n        <h1 className=\"heading-Inst\">Welcome {currUser}</h1>\n      </div>\n      <div className=\"main-content-Inst\">\n        <div className=\"lectures-container-Inst\">\n          <h2 className=\"section-heading-Inst\">Your Upcoming Lectures</h2>\n          <div className=\"scrollable-content-Inst\">\n            {schedules.map((schedule, index) => (\n              <div key={index} className=\"lecture-card-Inst\">\n                <h3 className=\"card-heading-Inst\">Course:</h3>\n                <p className=\"course-content-Inst\">{schedule.course}</p>\n\n                <h3 className=\"card-heading-Inst\">Lecture:</h3>\n                <p className=\"lecture-content-Inst\">{schedule.lecture}</p>\n\n                <h3 className=\"card-heading-Inst\">Date:</h3>\n                <p className=\"date-content-Inst\">\n                  {new Date(schedule.date).toLocaleDateString()}\n                </p>\n\n                <h3 className=\"card-heading-Inst\">Location:</h3>\n                <p className=\"location-content-Inst\">{schedule.location}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nexport default Instructor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}